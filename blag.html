<!DOCTYPE html>
<html>
    <head>
        <title>
            who said that?
        </title>
        <style>
            * {
                padding: 0;
                margin: 0;
            }
            #links {
                position: fixed;
                display: flex;
                flex-flow: column;
            }
            body {
                background-color: lightgray;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            #container {
                min-height: 1000px;
                width: 800px;
                display: flex;
                flex-flow: row nowrap;
                background-color: white;
            }
            #directory {
                box-shadow: 5px 0 5px -2px #888;
                padding: 5px;
                padding-left: 20px;
                padding-right: 10px;
                user-select: none;
                min-width: 130px;
                position: relative;
            }
            #directory > li:hover {
                cursor: pointer;
                opacity: 0.5;
                text-decoration: underline;
            }
            #content {
                padding-left: 10px;
                overflow: scroll
            }
            .entry_content {
                padding-bottom: 50px;
                padding-right: 5px;
                white-space: pre-wrap;       /* Since CSS 2.1 */
                white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
                white-space: -pre-wrap;      /* Opera 4-6 */
                white-space: -o-pre-wrap;    /* Opera 7 */
                word-wrap: break-word;       /* Internet Explorer 5.5+ */
            }

            hr {
                margin: 5px;
            }

            #image_modal {
                height: 100vh;
                width: 100vw;
                display: none;
                justify-content: center;
                align-items: center;
                flex-flow: column;
                background-color: rgba(0,0,0,0.5);
                position: fixed;
                top: 0;
                left: 0;
                z-index: 5;
            }
            #modal_image {
                height: 80vh;
                width: 80vw;
                background-size: contain;
                background-repeat: no-repeat;
                margin-left: 130px;
            }
            #image_modal:hover {
                cursor:pointer;
            }
            /* blog markdown */
            .blog_headers {
                font-size: 30px;
                color: red;
            }
            .blog_subheaders {
                height: 40px;
                width: 500px;
            }
            .blog_mini {
                opacity: 0.7;
                font-size: 10px;
            }
            .blog_hidden {
                color: white;
                outline: 3px dotted rgb(2, 255, 2);
            }

            img {
                max-width: 600px;
                margin: 5px;
                height: auto;
                border: 3px dotted rgb(2, 255, 2);
                transition: 0.1s;
            }
            img:hover {
                transform: scale(1.01);
                opacity: 0.95;
                cursor: pointer;
                z-index: 5;
            }
            .code {
                background-color: black;
                color: rgb(0, 255, 0);
                width: auto;
                display: inline-block;
                padding: 5px;
                padding-right: 30px;
                padding-left: 10px;
                margin: 5px;
                border-radius: 15px;
            }
        </style>
    </head>
    <body>
        <div id="image_modal" onclick="modal()"><div id="modal_image"></div></div>
        <div id="container">
            <div id="directory">
                <div id="links"></div>
            </div>
<div id="content">

    <div class="entry blag sweetum" id="2024-07-21-1116">
        <div class="blog_headers">SEPARATING BLOG ENTRIES INTO TEXT FILES, SOME MARKDOWN STUFF</div>
        <marquee class="blog_subheaders" direction="down" behavior="alternate">
            <marquee behavior="alternate">i'll just meet you there!</marquee>
        </marquee>
        <hr/>
        <pre class="entry_content">
    Hi! 
As of right now, I manage <b>two</b> pages that have a blog-like structure to them. This one, and the <a href="https://sweetum.github.io" target="_blank">website for my band Sweetums.</a> currently, i write out the entries as separated html divs straight into the source code of each 'blog'. it works fine, but it can get a little frustrating sometimes trying to scroll around and find stuff, or really get into writing something without being distracted by the code flying around. today, i'm going to try to take a page that looks like this:
<img loading="lazy" src="https://i.imgur.com/Up1Z9OQ.png">
to instead be empty and then populated with a script sourcing each song from a folder of text files. i'll try doing that for the sweetums website first, and then depending how smoothly that goes, i'll do it for this blog too!

i'll start by creating a new folder at the root directory of the sweetums repository and just call it "songs", and set it up to represent one of my favorite songs that i dearly wish i've written, <a href="https://www.youtube.com/watch?v=Gy88-5pc7c8" target="_blank">Roadrunner by The Modern Lovers</a>.

before we set up our text file, here's an example of a song file and how it's formatted:
<img loading="lazy" src="https://i.imgur.com/QY822cC.png">
Each song has a title, lyrics, images, tabs, and notes. You might notice that the chords are formatted with brackets -- deep at the bottom of the source code for the sweetums site there's a script to process this fake little markdown language, taking any characters that are found between a [ ] and making them bold and with a larger font. this way, when i write out the songs, i don't have to go to the trouble of separating the chords into new <b>div</b>s or <b>span</b>s every time. 

for example, we can take this text (inside an html div)
<div class="code">
    [C]                 [G]
    well the lease is up, and i don't know 
    the terms of the legalese but i'm pretty
                        [F]
    sure i'd have to [WHY DIDN'T YOU SIGN IT?]
                    (have someone look it over first)
    i could've. i could've.

            [C]                 [G]
    anneliese is up, or at least i hope she is,
                                                    [F]
    becuase she just sent me a picture of [SHE'S STARING AT HER WALL]
                                        (her cat against a yellow wall)
    i should be with her. i miss her.

</div>

and it'll display like this:
<img loading="lazy" src="https://i.imgur.com/ZsMjd0t.png">

what we're going to do with this text file conversion is sort of one step beyond. we're going to set up the text file with text delimiters. . .

<div class="blog_mini">(e.g characters that can be recognized by a script as indicating something related to how we should be organizing our data rather than something for the user to read. for example, in a csv (comma separated values) table, columns of data are separated by a comma. so, you can represent any amount of data in a simple, straightforward way. let's say you're a dj keeping track of songs people requested at a set on the fly:
    <div class="code">
        date, venue, person, song
        09/21, tourist trap, sophia, heart of glass (bossa nova remix)
        11/22, sinclair, cameron, cosmic surfin
    </div>
    can then be uploaded into any spreadsheet software or parsed by a script, easy as pie.) not all csvs have a comma delimiter, but that's another can of worms.)</div>

. . .to automatically process our sections into generated divs, and then from there, process the text in the divs to whatever specific text markdown they need! i know i could probably use an already existing markup language to speed this up, but where's the fun in that?

<img loading="lazy" src="https://i.imgur.com/heqrmAf.png">

here's a first pass-through. i'm using a double @ sign as a delimiter. in order, we've got our song title, the lyrics, images, tabs, any special notes on it! it's music notes, not <i>music notes.</i> it's a good idea to choose something you would never use in any context but as a delimiter. now, let's load our txt file as a string in javascript and split it up into its separate elements.

here's my first attempt at grabbing our roadrunner.txt file:

<div class="code">
    async function fetchSong() {
        try {
            console.log("fetching!")
            const response = await fetch('songs/roadrunner.txt');
            const text = await response.text();
            console.log("logging roadrunner")
            console.log(text)
        } catch (error) {
            console.log("fetch failed")
            console.log(error)
        }
    }

fetchTextFile();

</div>

does anyone want to guess what happened? some mysterious reader much more well-versed in web development than i? or maybe just someone with common sense?

here, i'll hide the answer. highlight the text right after this to see: 
<span class="blog_hidden">Access to fetch at 'file:///Users/archieoconnell/dev/sweetum.github.io/songs/roadrunner.txt' from origin 'null' has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, data, isolated-app, chrome-extension, chrome, https, chrome-untrusted.</span>

what's going on here? 

<div class="blog_mini">you might recognize the evil mosquito that is CORS, which you can read more about <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank">here</a>. long story short, CORS makes the internet "safer" and "more secure" blah blah blah, e.g it's a pain in the ass to access resources from one webpage to another</div>

we're trying to load the .txt file from a local file:// path, which is not how the fetch api works. it has to be one of the whitelisted schemes (https, data, etc.). when i try grabbing the content of a text file that's up on the web already, like, say, flagday.txt (more on flag day later), our scripe works PERFECTLY!

<img src="https://i.imgur.com/HP0XzkT.png" loading="lazy">

how can we use a whitelisted scheme while still working locally with our roadrunner.txt that hasn't yet been pushed to github? we'll start a local server with python!

<div class="code">
    ➜  archizzl.github.io git:(master) ✗ python3 -m http.server
Serving HTTP on :: port 8000 (http://[::]:8000/) ...
::1 - - [21/Jul/2024 17:20:16] "GET / HTTP/1.1" 200 -
::1 - - [21/Jul/2024 17:20:16] "GET /hpi/salmon.mov HTTP/1.1" 200 -
::1 - - [21/Jul/2024 17:20:16] "GET /hpi/indexbackground.mp4 HTTP/1.1" 200 -
::1 - - [21/Jul/2024 17:20:16] code 404, message File not found
::1 - - [21/Jul/2024 17:20:16] "GET /favicon.ico HTTP/1.1" 404 -
::1 - - [21/Jul/2024 17:20:25] "GET /log.txt HTTP/1.1" 200 -
::1 - - [21/Jul/2024 17:20:32] "GET /b.txt HTTP/1.1" 200 -
::1 - - [21/Jul/2024 17:20:35] "GET /blag.html HTTP/1.1" 200 -

</div>

by opening a terminal from the directory we're working in and using the python command <span class="code">python3 -m http.server</span>, we can now access the page we're working in from the port localhost:8000! you'll also get to see an ongoing log of any requests that you make to your local server! you can close it using control + c <div class="blog_mini">(or at least if you're on a mac. i'm not sure about other platforms)</div>

now, when we try it after opening a server in the sweetum repository, we get:

<div class="code">

fetching!<hr/>(index):1860 @@ 
Roadrunner
@@ 
One, two, three, four, five, six
Roadrunner, roadrunner
Going faster miles an hour
Gonna drive past the Stop 'n' Shop
With the radio on
I'm in love with Massachusetts
And the neon when it's cold outside
And the highway when it's late at night
Got the radio on
I'm like the roadrunner
Alright
@@ 
https://images.squarespace-cdn.com/content/v1/600594e0259ef06ca93df13f/1611700204786-C9KJL0LTFR154X6VVM6K/TT-60547-Richman+10162.jpg
@@
e|---------------------------------------------------------------|
B|---------------------------------------------------------------|
G|---------------------------------------------------------------|
D|---------------------------------------------------------------|
A|---------------------------------------------------------------|
E|---------------------------------------------------------------|
@@
this song rocks!
<hr/>porpoise.dashboard.wrbbradio.org/:1 Access to XMLHttpRequest at 'https://api.wrbbradio.org/getSchedule' from origin 'https://porpoise.dashboard.wrbbradio.org' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.

</div>

we're still getting a CORS issue, but that is for a different, stupid reason that i will get to at another point. perhaps i will write about it and link back to it here. for now, all you need to know is that you don't need to know about it.

we've got our song! let's load it in!

<div class="blog_mini">(at this point, i decided to switch to doing this with an actual song by my band so that whatever i'm doing can be troubleshot with a real example. sorry to all the modern lovers out there! peace and love!)</div>

here's some more code for you:

<div class="code">
    
    songs = ["pinky"]

    for (song of songs) {
        fetchSong(song).then((foo) => {
            console.log("foo:")
            console.log(foo)
            console.log(foo.split("@@"))
        })
    }

</div>

since we're just working on song right now but want to eventually have this work for every song, we're going to define our songs as an array and then use a for each loop to run our function for each song we want to display on the sweetums website. you might have noticed above that our <span class="code">fetchSong()</span> function had an <b>async</b> label. <b>async</b> functions return <b>Promise</b>s, which are then accessed using the <b>.then()</b> property. We need to use an async function because we're using the fetch api to request resources from a web server, so our code should (a)wait a response before proceeding with its operations.

our response looks something like this:

<div class="code">

    (5) ['Pinky%%pinky%%https://maps.google.com\n', "\n            \n            [G]                 [B7]…t at least it's not a spiderbee\n        like me!\n", '\nhttps://upload.wikimedia.org/wikipedia/commons/1/…GcSlknVy6nECWqgdwVY78ysRMlFZWXT3V89CJl2QhRMoZQ&s\n', '\n    NO TABS!        \n         BUMMER!\n', '\nat "take your breath away", drum beat switches to…  *\nand strums go slower. father john misty vibes']
    0
    : 
    "Pinky%%pinky%%https://maps.google.com\n"
    1
    : 
    "\n            \n            [G]                 [B7]       \n    (oh,) won't you fix me, fix me\n                [C]                  [G]\n        will you heal my broke-back pinky\n                                (Amaj7)   [D]\n        when my hands finally do what i want them to do\n            [G]        [B7]     [C]     [Cmin]\n        and snap themselves in half\n                    [G]   [Emaj7]   [Amaj7]     [D]  [Amaj7] [D]  [G]\n        so they can never put their grip around your gentle neck again\n\n        [G]                 [B7]       \n    (oh,) if you'll only wish me\n                [C]                  [G]\n        to give up what i brought with me\n                                                        (Amaj7)   [D]\n        i'll wrap it up and spit it out and chew it up and throw it out\n                                                    (aughhghgh!!!)\n            [G]        [B7]     [C]     [Cmin]\n        so dear, if you'll forgive me, we'll walk around sing tweedle-dee\n            [G]   [Emaj7]   [Amaj7]     [D]     [Amaj7]     [D]     [G]\n        i'll be your one and only spiderbee!\n\n        ++\n\n        same chords for two solos\n\n        ++ \n\n        (just keyboard)\n\n        [G]                 [B7]       \n        i can be better, folded down\n                [C]                  [G]\n        an upright pillar, a drone too loud\n                                    (Amaj7)   [D]\n        while baby midas combs around the wreckage\n            [G]                 [B7]           [C]           [Cmin]\n        he doesn't catch those sordid eyes linger on what he leaves behind\n\n        (hold Cmin)\n\n            [G]   [Emaj7]   [Amaj7]     [D]     [Amaj7]     [D]     [G]\n        it makes you wonder why we pay so much for that shit anyway!\n\n        [G]                 [B7]       \n    (oh,) won't you fix me, fix me\n                [C]                  [G]\n        will you heal my broke-back pinky\n                                (Amaj7)   [D]\n        when my hands finally do what i want them to do\n\n        ++ \n\n            [G]        [B7]     [C]     \n        and take your breath away\n                [G]        [B7]     [C]     \n        leave my claw marks there to stay\n\n        i'll be your\n        [G]\n        widowmaker\n        [B7]\n        endless taker\n        [C]                 \n        apologetic motion faker\n        [Cmin]\n        former governor charlie baker\n        artisinal sourdough creator\n        point guard for the l.a lakers\n\n        [G]   [Emaj7]   [Amaj7]     [D]     [Amaj7]     [D]\n        baby, i can be a spiderbee, it's a real thing!\n\n        [G]                 [B7]       \n        (oh,) won't you fix me, fix me\n                [C]                  [G]\n        will you heal my broke-back pinky\n                                (Amaj7)   [D]\n        when my hands finally do what i want them to do\n        \n        and \n        get a little brittle\n        when i rosin up the fiddle\n        on a wednesday night\n        with my whereabouts a riddle\n        where'd he get ya?\n        in the middle!\n        does it sting?\n        just a little!\n        but at least it's not a spiderbee\n        like me!\n"
    2
    : 
    "\nhttps://upload.wikimedia.org/wikipedia/commons/1/1b/Spiderbee.jpg%%spiderbee\nhttps://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSlknVy6nECWqgdwVY78ysRMlFZWXT3V89CJl2QhRMoZQ&s\n"
    3
    : 
    "\n    NO TABS!        \n         BUMMER!\n"
    4
    : 
    "\nat \"take your breath away\", drum beat switches to\nride    *   *   *   *   *   *   *   *\nsnare           *   *           *\nkick    *               *   *       *\nand strums go slower. father john misty vibes"
    length
    : 
    5
    [[Prototype]]
    : 
    Array(0)

</div>

which is a bit scary! but it's working!! our .txt file has been grabbed and split up by its delimiter into an array of its sections. now, we can use it to populate our songs. 

right?

well, while putting together the .txt file for pinky, i ran into a slight problem -- the photo i use for the song entry for pinky has a strange size formatting issue. to amend it, i gave it a somewhat hacky solution, which was giving the image a unique id and formatting it directly from the css of the page, making it an outlier from the other images. another issue is that i forgot each song has an id and an optional link, along with everything else. we're starting to build a system with a lot more complexity than we initially prepared for. have we been too cocky? 

let's take a step back and reassess what the point of this project is. the lyrics of my songs take up too much space in my html page, and i would prefer writing my song lyrics unencumbered by code flying around. that's all. it's never been a problem managing the images or titles or ids. let's scale our attempts back.

<b>new goal:</b> 
    just write our lyrics in the text file. manage everything else in the html. maybe we'll add tabs and notes at a later time, but right now, we're just focusing on getting something done.

here's the code:

<div class="code">

    async function fetchSong(song) {
        try {
            const response = await fetch('songs/' + song.getAttribute("id") + '.txt');
            const text = await response.text()
            return {
                "foo": song,
                "bar": text
            }
        } catch (error) {
            console.log("fetch failed")
            console.log(error)
        }
    }

    songs = document.querySelectorAll(".song")
    songs_navbar = document.getElementById("next_top_link")
    show_songs = []

    for(song of songs) {
        fetchSong(song).then((love) => {
            song = love["foo"]
            song.querySelector(".brochure").querySelector(".lyrics").innerHTML = formatText(love["bar"])
            show_songs.push(song)
            foo = document.createElement("a")
            foo.setAttribute("href", "#" + song.getAttribute("id"))
            foo.innerHTML = song.querySelector(".song_title").querySelector(".song_link").innerHTML
            songs_navbar.appendChild(foo)
        })
    }

</div>

now that we've got this working, it would be pretty straightforward to set up the template with tabs and notes too, using a handy dandy delimiter and split() method. but i'm not going to do that right now. because i have other stuff to do! but thanks to my halfway goal adjustment, <b>something was finished instead of a bunch being half-assed :)</b>
</pre>
    </div>
    
    <div class="entry blag" id="2024-06-17-1507">
    <div class="blog_headers">MAKING THIS BLOG</div>
    <marquee class="blog_subheaders" direction="down" behavior="alternate">
        <marquee behavior="alternate">it was a blast!</marquee>
    </marquee>
    <hr/>
    <pre class="entry_content">
    hello world! 

    as a fun little experiment, for this first blog post, rafhsjkdafhsdljkafhklajdshfjkldsahjftestlongstringforoverflow i'm going to write out the steps i take to build this blog and keep a lot of the minutiae that i use to test it, while i'm making this blog! there's a lot of troubleshooting to be done, and a lot of design decisions to be made. right now, i'm trying to make it so the pre div we're working in for each blog entry automatically wraps its lines so they can all fit on the page.

    <img loading="lazy" src="https://i.imgur.com/k2AwYyZ.png">

    i'm going to try using the following commands i got from <a href="https://stackoverflow.com/questions/248011/how-do-i-wrap-text-in-a-pre-tag" target="_blank">this thread</a>:

    <img loading="lazy" src="https://i.imgur.com/IllsByF.png">

    this gets us. .

    <img loading="lazy" src="https://i.imgur.com/CZu9UOM.png">

    this kind of fixes it, but now everything's a little weird. let's try <a href="https://stackoverflow.com/questions/31025502/how-can-i-switch-word-wrap-on-and-off-in-visual-studio-code" target="_blank">wrapping our lines in vscode</a> and see what happens.

    <img loading="lazy" src="https://i.imgur.com/rIq4kQg.png">

    now it looks okay, but because of the by-eye freehand indenting i was trying before, our lines still look wonky. let's try cleaning this up.

    <img loading="lazy" src="https://i.imgur.com/qAv8RFU.png">

    notice that although the lines wrap, the numbers on the left side only change when you purposefully indent! this gets us. . .

    <img loading="lazy" src="https://i.imgur.com/WVwHG4Y.png">

    there we go! our fixes were enabling pre-word break wrap white space for our pre entries, and then turning on text wrap in vscode and not trying to do our line breaks by eye.
    also, since i'm writing this blog entry as i'm operating on the text within this blog entry. everything looks different all the time, and we're playing a little bit of an inception game. what's different here?

    well, while i was writing up those previous entries, i noticed that it became hard to discern what was an image of the blog text and what was the actual blog text.

    <img loading="lazy" src="https://i.imgur.com/sAAh4hY.png">

    like in this example. what am i looking at?? what's an image, what's text? you can kind of tell, because of my poor cropping skills, but not really. here's the fix:

    <img loading="lazy" src="https://i.imgur.com/dUxeapS.png">
    <img loading="lazy" src="https://i.imgur.com/MY7dASv.png">

    hmm. . . this looks good, but i kind of can't tell which images are which, now. they're a bit squished together, like in this example:

    <img loading="lazy" src="https://i.imgur.com/GWIUIx1.png">

    let's just add a 5 pixel margin and 2px padding on each image.

    <img loading="lazy" src="https://i.imgur.com/Nx5WXzT.png">

    which should get us something that looks like this:

    <img loading="lazy" src="https://i.imgur.com/cX6n5Uj.png">

    which has a lot more comfortable spacing. by the way, did you know that you can select hex codes for colors through VSCode? like this!

    <img loading="lazy" src="https://i.imgur.com/cTtOTUt.png">
    i found that incredibly convenient.

    while typing that, i realized that it's hard to see the images because some of them are quite small! so i added in JUST TWO LINES! to make the images get big and visible when you hover over them. most solutions use javascript and have triggers and onclicks and are maybe just a little bit more fancy but no no no!! just two sweet lines! one more for vanity!

    <img loading="lazy" src="https://i.imgur.com/4ZNIxgF.png">
    <img loading="lazy" src="https://i.imgur.com/SENy0yh.png">

    ok. although that was a fun setup, in reality, it glitches out pretty hard and doesn't work at all on mobile, so we're just going to have to bite the bullet and make a <b>modal</b> with some simple javascript. it won't be too bad. <div class="blog_mini">in another life, i could be more like <a href="https://aem1k.com/" target="_blank">aem1k</a> and figure out some brilliant css code golf solution, but i'm not there yet. YET!</div>

    there isn't really an official defined definition of what a modal box is in terms of web design, but loosely, it's a popup! like when you open a website and it asks you to check or uncheck cookie permissions before proceeding. that's a modal. in our case, our modal is something that the end user of the blog actually cares about and wants to see, but that's besides the point. usually, modals are dismissed by clicking on some X button in their corner, or clicking somewhere on the screen that is not on the modal. let's implement both, just because we might as well. 

        <div class="code">        
    window.onload = function() {

        entries = document.querySelectorAll(".entry")
        
        for (let entry of entries) {
            classes = entry.getAttribute("class").split(" ")
            id = entry.getAttribute("id")
            new_link = document.createElement("a")
            new_link.setAttribute("href", "#" + id)
            new_link.innerHTML = id
            links.appendChild(new_link)
        }
    }

    </div>

    this is all the javascript we currently have on the page. it grabs every article title and generates a list of links to each blog article, using their id, which is the datetime (ish) that the article was started. i put the datetimes in manually, but i'm sure there's some code whiz way of not having to, using the time of the first git commit of an article or something. i'll add that to the to-do list!

    <div class="blog_mini">btw: new development: code blocks. i realized it was probably innefficient in pretty much every way to be including individual screenshots of the code i'm writing. more and more trial and error!

    by the way, you might have noticed that this text is small! and a lighter color! in pursuit of a consistent styling to this blog, i've created a series of tags to format my entries with. right now, there's
        <div class="code">
    .blog_headers {
        font-size: 30px;
        color: red;
    }
    .blog_subheaders {

    }
    .blog_mini {
        opacity: 0.7;
        font-size: 10px;
    }
        </div>
    this text (yes, this! what you're reading with your eyes right now!) is a blog_mini. i haven't written any rules for blog_subheaders yet, which vscode is <i>not</i> thrilled about, but i will at the end when i write a witty subheading for this entry.
    </div>

    the trained eye might have noticed that these posts are all written in <b>pre</b> tags. i like them a lot. <b>pre</b> tags define formatted text, meaning anything written inside them preserves line spaces and tabs and spaces. so i can do          
                                        
                                    this            !
                                    
            or

                _,.---.---.---.--.._ 
            _.-' `--.`---.`---'-. _,`--.._
            /`--._ .'.     `.     `,`-.`-._\
            ||   \  `.`---.__`__..-`. ,'`-._/
        _  ,`\ `-._\   \    `.    `_.-`-._,``-.
    ,`   `-_ \/ `-.`--.\    _\_.-'\__.-`-.`-._`.
    (_.o> ,--. `._/'--.-`,--`  \_.-'       \`-._ \
    `---'    `._ `---._/__,----`           `-. `-\
            /_, ,  _..-'                    `-._\
            \_, \/ ._(
                \_, \/ ._\
                `._,\/ ._\
                `._// ./`-._
            <b>THIS!</b>    `-._-_-_.-'

    every character in a <b>pre</b> has the same length, so <a href="https://www.asciiart.eu/animals/other-water" target="_blank">ascii art</a> will always format correctly.

    what's interesting, though, is that you can put html tags inside them. e,g, your <b>div</b>s and <b>a</b>s <span class="blog_mini">(links)</span> and <b>b</b>s <span class="blog_mini">(bold)</span> and <b>i</b>s <span class="blog_mini">(italics)</span> and they'll all work. yet, the characters that you use to write out the tags aren't actually factored into the formatted text. for example, in our wonderful turtle illustration above, the code looks like this:

    <img loading="lazy" src="https://i.imgur.com/DHDXM1U.png">

    but the turtle looks a-okay!

    anyway, back to the javascript. we're going to create a function called <b>modal</b> that triggers the on and off of a modal popup and sets the popup to display whatever image we just clicked on. if you click outside of it, it'll pop back out. the code looks like this:

    html:
    <div class="code">
    at some point i will go through these and write a markup script to let me display html tags as plain text. today is not that day. it's a div id=image_modal with a child div id=modal_image. image_modal has an attribute of onclick=modal() 

    </div>

    css:
    <div class="code">
    #image_modal {
        height: 100vh;
        width: 100vw;
        display: none;
        justify-content: center;
        align-items: center;
        flex-flow: column;
        background-color: rgba(0,0,0,0.5);
        position: fixed;
        top: 0;
        left: 0;
        z-index: 5;
    }
    #modal_image {
        height: 80vh;
        width: 80vw;
        background-size: contain;
        background-repeat: no-repeat;
    }
    #image_modal:hover:not(:has(*:hover)) {
        cursor:pointer;
    }

    </div>

    javascript:
    <div class="code">

    images = document.querySelectorAll("img")
    for (let image of images) {
        image.onclick = function() {
            modal(image)
        }
    }

    popup = false;

    const modal = (image) => {
        if(image) {
            image_modal.style.display = "flex";
            modal_image.style.backgroundImage = "url('" + image.getAttribute("src") + "')"
        }
        else {
            image_modal.style.display = "none";
        }
    }

    </div>

    go for it! check it out! let me know if it works okay! one more thing that i noticed that is a little weird is that it flashes white at the bottom while i scroll, but that's probably an image loading thing. i'll figure it out. until next time.

    <div class="blog_mini">check out the bouncy subheader :)</div>
    </pre>
    <hr/>
    </div>
</div>
</div>
    </body>
    <script>
        window.onload = function() {

            entries = document.querySelectorAll(".entry")
            
            for (let entry of entries) {
                classes = entry.getAttribute("class").split(" ")
                id = entry.getAttribute("id")
                new_link = document.createElement("a")
                new_link.setAttribute("href", "#" + id)
                new_link.innerHTML = id
                links.appendChild(new_link)
            }

            images = document.querySelectorAll("img")
            for (let image of images) {
                image.onclick = function() {
                    modal(image)
                }
            }
        }

        popup = false;

        const modal = (image) => {
            if(image) {
                image_modal.style.display = "flex";
                modal_image.style.backgroundImage = "url('" + image.getAttribute("src") + "')"
            }
            else {
                image_modal.style.display = "none";
            }
        }
    </script>
</html>

<!--
<div class="entry" id="2024-XX-XX-XXXX">
    <div class="blog_headers">MAKING THIS BLOG</div>
    <marquee class="blog_subheaders" direction="down" behavior="alternate">
        <marquee behavior="alternate">it was a blast!</marquee>
    </marquee>
    <hr/>
    <pre class="entry_content">
    </pre>
</div>
-->
<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css?family=Ubuntu|Raleway&display=swap" rel="stylesheet">
  <script src="https://player.vimeo.com/api/player.js"></script>
  <title>mapso open mics!</title>
<style>
* {
  padding: 0;
  margin: 0;
  user-select: none;
  font-family: 'Raleway', sans-serif;
}
a {
  color: inherit;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}
#u {
  text-decoration: underline;
  color: white;
}
#page1 {
  height: 100vh;
  width: 100vw;
  position: absolute;
  top: 0;
  left: 0;
  pointer-events: none;
}
        #videocontainer {
          height: 100vh;
          width: 100vw;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          overflow: hidden;
          /*
          background-image: url('ombg1.jpeg');
          background-size: cover;
          background-repeat: no-repeat;
          pointer-events: auto;
          */
          background-image: url('openmic_background_while_loading.png');
          background-size: cover;
        }
                #loading {
                  font-size: 30px;
                }
                #backgroundvideo {
                  height: 105vh;
                  width: 105vw;
                  position: absolute;
                  z-index: 5;
                  margin: 0;
                  padding: 0;
                  pointer-events: auto;
                }
        #container1 {
          height: 100vh;
          width: 100vw;
          display: flex;
          flex-flow: column;
          justify-content: center;
          align-items: center;
          background-color: transparent;
          position: absolute;
          overflow: hidden;
          top: 0;
          left: 0;
          z-index: 10;
          pointer-events: none;
        }
                #page1container1 {
                  height: 20vh;
                  width: 100vw;
                  display: flex;
                  flex-flow: column;
                  justify-content: center;
                  align-items: center;
                  flex-flow: column;
                  background-color: transparent;
                  pointer-events: none;
                }
                        #header1 {
                          color: white;
                          font-size: 100px;
                          text-shadow: 5px 5px 0px black;
                          font-weight: bold;
                        }
                        #header2 {
                          color: white;
                          font-size: 30px;
                          pointer-events: auto;

                        }
                #page1container2 {
                  height: 80vh;
                  width: 100vw;
                  display: flex;
                  justify-content: flex-end;
                  align-items: center;
                  flex-flow: column;
                  background-color: transparent;
                  pointer-events: none;
                }
#page2 {
  height: 12vh;
  width: 100vw;
  position: absolute;
  top: 100vh;
  left: 0;
  background-image: url('IMG_0003.jpg');
  background-size: cover;
  background-repeat: no-repeat;
}
        #container2 {
          display: flex;
          flex-flow: column nowrap;
        }
                #page2container1 {
                  height: 88vh;
                  width: 100vw;
                  display: flex;
                  flex-flow: column;
                  justify-content: center;
                  align-items: center;
                }
                        #pastandfuturecontainer {
                          height: 68vh;
                          width: 100vw;
                          display: flex;
                          flex-flow: row nowrap;
                          justify-content: space-around;
                          align-items: center;
                        }
                                .boxes {
                                    height: 80vh;
                                    width: 48vw;
                                    display: flex;
                                    flex-flow: column ;
                                    justify-content: flex-start;
                                    align-items: center;
                                }
                                        .images {
                                          height: 77vh;
                                          width: 45vw;
                                          outline: 5px solid black;
                                          margin-top: 6vh;
                                          transition: 0.25s;
                                          background-size: cover;
                                          background-repeat: no-repeat;
                                        }
                                        .images:hover {
                                          outline: 10px solid black;
                                          cursor: pointer;
                                        }
                                        .headers {
                                          position: absolute;
                                          color: white;
                                          font-size: 60px;
                                          text-shadow: 5px 5px 0px black;
                                        }
                                        #pastimage {
                                          background-image: url('pbg.png');
                                        }
                                        #futureimage {
                                          background-image: url('fbg.png');
                                        }
                                        #bottomwrapper {
                                          height: 12vh;
                                          width: 100vw;
                                          display: flex;
                                          flex-flow: column nowrap;
                                          justify-content: center;
                                          align-items: center;
                                          color: #999999;
                                          background-color: #191314;
                                        }
#buttons {
  height: 15vh;
  width: 25vw;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 900;
  position: absolute;
  bottom: 0;
  left: 0;
  display: flex;
  flex-flow: column;
  margin: 20px;
  color: lightgray;
  justify-content: center;
  align-items: center;
}
        #buttonsRow{
          display: flex;
          flex-flow: row nowrap;
        }
                #mutebutton {
                  font-size: 40px;
                }
                #pausebutton {
                  font-size: 40px;
                }
#about {
  position: absolute;
  height: 20vh;
  width: 30vw;
  z-index: 900;
  bottom: 0;
  right: 0;
  margin: 20px;
  background-color: rgba(0, 0, 0, 0.5);
  color: lightgray;
  padding: 10px;
}
        #dropDown {
          cursor: pointer;
          color: lightgray;
          pointer-events: auto;
          border:0;
          background:none;
          -webkit-appearance: none;
          font-size: 16px;
          width: 20vw;
        }
</style>
<body>

<div id="about">Mapso Open Mics is a collective community effort to bring new teenage local artists into the spotlight! It’s a safe space where anyone is welcome to sing, do poetry, standup, etc.  We are always welcome to new styles, genres, and people!
  <br/><hr/><br/>
<div id="nowplaying">Now Playing: <select id="dropDown"></select></div>
<a href="https://archizzl.com/pastshows" target="_blank">Past Shows</a> |
<a href="https://archizzl.com/futureshows" target="_blank">Future Shows</a>
</div>
<div id="page1">
  <div id="videocontainer">
    <span id="loading">the video is loading :)</span>
    <!--<video src="testbgv.mp4" autoplay muted loop id="backgroundvideo"></video>-->
    <iframe id="backgroundvideo" src="" frameborder="0"></iframe>
  </div>
  <div id="container1">
    <div id="page1container1">
      <div id="header1">MAPSO OPEN MICS</div>
      <div id="header2">a <a href="https://instagram.com/sasha.sink" target="_blank" id="u">sasha sinkler</a> production</div>
    </div>
    <div id="page1container2">
    </div>
  </div>
</div>

<div id="page2">
    <div id="bottomwrapper">
      <div id="num">‭(973) 489-8368‬</div>
      <div id="links"><a href="https://instagram.com/mapsopenmic" target="_blank">instagram</a> / <a href="https://facebook.com/mapsopenmic" target="_blank">facebook</a> / <a href="mailto:sashasinkler@gmail.com" target="_top">email</a></div>
      <div id="madeby">website made by <a href="https://archizzl.com" target="_blank">archie oconnell</a></div>
    </div>
  </div>
</div>

<div id="buttons">
  <div id="buttonsRow">
<div id="mutebutton" class="button">	&#128263; </div>
<div id="pausebutton" class="button">⏸️</div>
</div>
<div id="warning">Click on the video to enable controls.</div>
</div>



<script>

//setting up background video

//defining elems
backgroundvideo = document.getElementById('backgroundvideo')
nowplaying = document.getElementById('nowplaying')

//defining video codes and corresponding names
vids =      [382992232,       382992059,        382991640,   382991450, 382991271,382990826,       382990355, 382989848,          382989714,     382989614,               382989306,     382988967,    382988470,               382988107,      382987941,        382987563,            382984561,                382983926,                                      382983667,      382983337,    382982651]
vidsnames = ['Gabi Gamberg', 'Hudson Pollock', 'Wallace P', 'Jolie H', 'Maia S', 'Diatonic Slave', 'Max M', 'Shaine Hammerberg', 'Matt + Maia', 'Happy Birthday Hudson', 'Emma Hankey', 'Grizz Fizz', 'Kate Spangler + Danny', 'Olivia Brash', 'Wallace + Sage', 'Luke D + Lawson S',  'Ella + Sarina Moriber', 'Jason and the McClanes / Ani Ramen House Band', 'Ella Moriber', 'Creatagoos', 'Ben M + Dan F']

//select random vid and set src of videos
randomVidCode = Math.floor(Math.random()*vids.length);
backgroundvideo.setAttribute('src', 'https://player.vimeo.com/video/' + vids[randomVidCode] + '?autoplay=1&loop=1&title=0&byline=0&portrait=0&allowfullscreen=1&muted=1&controls=0')
console.log(vidsnames[randomVidCode])
dropDown = document.getElementById('dropDown')
for(i = 0; i<vidsnames.length; i++){
  curr = document.createElement('option')
  curr.setAttribute('class', 'options')
  curr.text = vidsnames[i]
  curr.value = vids[i]
  dropDown.add(curr)
}
optionsArray = document.querySelectorAll('.options')
optionsArray[randomVidCode].setAttribute('selected', vidsnames[randomVidCode])
dropDown.oninput = function(){
  backgroundvideo.setAttribute('src', 'https://player.vimeo.com/video/' + this.value + '?autoplay=1&loop=1&title=0&byline=0&portrait=0&allowfullscreen=1&muted=1&controls=0')
  mutebutton.innerHTML = '&#128263;'
  bgvm = true;
}
//video controls

//defining buttons
mutebutton = document.getElementById('mutebutton')
pausebutton = document.getElementById('pausebutton')

//video library shit
var vidOptions = {
  id: backgroundvideo
}
var vidPlayer = new Vimeo.Player('backgroundvideo', vidOptions)

//button functions

//mute button
bgvm = true;
mutebutton.onclick = function(){
  if(bgvm == true){
    mutebutton.innerHTML = '&#128266;'
    bgvm = false;
    vidPlayer.setVolume(1)
  }
  else if (bgvm == false){
    mutebutton.innerHTML = '&#128263;'
    bgvm = true;
    vidPlayer.setVolume(0)
  }
}

//pause button
bgvp = false;
pausebutton.onclick = function(){
  if(bgvp == true){
    pausebutton.innerHTML = '⏸️'
    bgvp = false;
    vidPlayer.play()
  }
  else if (bgvp == false){
    pausebutton.innerHTML = '▶️'
    bgvp = true;
    vidPlayer.pause()
  }
}

//making blinker blink
u = document.getElementById('u')
ublink = true;
setInterval(function(){
  if(bgvp==false){
    if(ublink == true){
      u.style.textDecoration = 'none'
      ublink = false;
    }
    else {
      u.style.textDecoration = 'underline'
      ublink = true;
    }
  }
}, 1000)


</script>

</div>
</html>

<!DOCTYPE html>
<html>
<head>
<style>
* {
  margin: 0;
  padding: 0;
  user-select: none;
}
#container {
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-flow: column;
  overflow: hidden;
}
#bar {
  height: 20px;
  width: 300px;
  background-color: black;
  animation: shrink 1s linear infinite;
}
#barBox {
  min-width: 300px;
  display: flex;
  justify-content: flex-start;
  background-color: gray;
}
@keyframes shrink {
  100% {
    width: 0px;
  }
}
#button {
  height: 100px;
  width: 100px;
  border: 3px solid black;
  border-radius: 50px;
}
#container > * {
  margin: 15px;
}
#button:hover {
  border: 3px solid red;
  cursor: pointer;
}
</style>
</head>
<body>
  <div id="container">
    <div id="header">if you don't click the button for a second you lose your streak</div>
    <div id="timeleft">time left: 1.0s</div>
    <div id="barBox"><div id="bar"></div></div>
    <div id="button"></div>
    <div id="currentstreak">current streak: 0s</div>
    <div id="topstreakdiv">top streak: 0s</div>
  </div>
</body>
<script>


//time
timeleft = document.getElementById('timeleft')
currentstreak = document.getElementById('currentstreak')
topstreakdiv = document.getElementById('topstreakdiv')
time = 1.0
streak = 0.0;
topstreak = 0.0;
setInterval(function(){
  time-=0.1
  timeleft.innerHTML = 'time left: ' + time.toFixed(1) + 's'
  streak+= 0.1
  currentstreak.innerHTML = 'current streak: ' + streak.toFixed(1) + 's'

  if(streak>=topstreak){
    console.log(topstreak)
    topstreak = streak.toFixed(1);
    topstreakdiv.innerHTML = 'top streak: ' + topstreak + 's';
  }




  if(time.toFixed(1)==0.0){
    time = 1.0;
    streak = 0.0;
  }
}, 100)


//bar
bar = document.getElementById('bar')
barBox = document.getElementById('barBox')
button = document.getElementById('button')
button.onclick = function(){
  bar = document.getElementById('bar')
  bar.remove()
  cBar = document.createElement('div')
  cBar.setAttribute('id', 'bar')
  barBox.appendChild(cBar)
  time = 1.0;
}







</script>
</html>
